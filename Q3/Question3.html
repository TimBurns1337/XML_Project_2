<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <title>Question 3 - Part 1 & 2</title>
</head>
<body onload="loadDoc()">
    <div id="wrapper">
    <p id="displayT"></p>
    </div>    
    <script>
        function loadDoc() {
            var xhttp = new XMLHttpRequest();            
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    myFunction(this);
                }                            
            };
            
            xhttp.open("GET", "http://data.fixer.io/api/latest?access_key=edfb8c8b695b3b92f2ed3e3049ba178b", true);
            xhttp.send();        
        }
        function myFunction(json1) {
            var jsonDoc = json1.responseText;
            var myObj = JSON.parse(jsonDoc); 
            var values = [];
            var keys = Object.keys(myObj.rates);
            var j = 0;
            values = keys;
            console.log(values);
            //console.log(myObj.rates.EUR);
            
            output1 = "<h1 style='color: white'> Toronto and Oakville Weather XML </h1>"
            output1 += "<table border='1' style='background-color: white'>"
            output1 += "<tr style='background-color: gold'>"
            output1 += "<th>" + "EUR" + "</th>"
            output1 += "<th>" + "Country Currency Exchnage" + "</th>"
            output1 += "<th>" + "Country" + "</th>"                                               
            output1 += "</tr>"      
        
            for(i in myObj.rates) 
            {
                //var keys = Object.keys(myObj.rates);
                //console.log(keys[0]);
                output1 += "<tr style='background-color: white'>"                
                output1 += "<td>" + myObj.rates.EUR + "</td>"
                output1 += "<td>" + " " + myObj.rates[i] + "</td>"
                output1 += "<td>" + values[j] + "</td>" 
                j++;
            }   
                output1 += "</tr>"                    
                    
                             
               output1 += "</table>" 
            document.getElementById("displayT").innerHTML += output1;  
             
        }
    </script>
</body>
</html>